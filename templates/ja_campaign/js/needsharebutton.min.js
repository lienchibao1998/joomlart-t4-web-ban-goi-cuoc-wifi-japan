!function(){window.needShareDropdown=function(a,b){function c(a,b){if("string"==typeof b){var c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector;if(c)for(;a;){if(c.bind(a)(b))return a;a=a.parentElement}return!1}for(;a;){if(a==b)return a;a=a.parentElement}return!1}var d=this;d.elem=a,d.elem.className+=d.elem.className.length?" need-share-button":"need-share-button",d.getTitle=function(){var a;return document.querySelector?(a=document.querySelector('meta[property="og:title"]')||document.querySelector('meta[name="twitter:title"]'))?a.getAttribute("content"):(a=document.querySelector("title"))?a.innerText:"":(a=document.title)?a.innerText:""},d.getImage=function(){var a;return document.querySelector&&(a=document.querySelector('meta[property="og:image"]')||document.querySelector('meta[name="twitter:image"]'))?a.getAttribute("content"):""},d.getDescription=function(){var a;return document.querySelector?(a=document.querySelector('meta[property="og:description"]')||document.querySelector('meta[name="twitter:description"]')||document.querySelector('meta[name="description"]'))?a.getAttribute("content"):"":(a=document.getElementsByTagName("meta").namedItem("description"))?a.getAttribute("content"):""},d.share={mailto:function(){var a="mailto:?subject="+encodeURIComponent(d.options.title)+"&body=Thought you might enjoy reading this: "+encodeURIComponent(d.options.url)+" - "+encodeURIComponent(d.options.description);window.location.href=a},twitter:function(){var a=d.options.protocol+"twitter.com/home?status=";a+=encodeURIComponent(d.options.title)+encodeURIComponent(d.options.url),d.popup(a)},pinterest:function(){var a=d.options.protocol+"pinterest.com/pin/create/bookmarklet/?is_video=false";a+="&media="+encodeURIComponent(d.options.image),a+="&url="+encodeURIComponent(d.options.url),a+="&description="+encodeURIComponent(d.options.title),d.popup(a)},facebook:function(){var a=d.options.protocol+"www.facebook.com/sharer/sharer.php?";a+="u="+encodeURIComponent(d.options.url),a+="&t="+encodeURIComponent(d.options.title),d.popup(a)},googleplus:function(){var a=d.options.protocol+"plus.google.com/share?";a+="url="+encodeURIComponent(d.options.url),d.popup(a)},reddit:function(){var a=d.options.protocol+"www.reddit.com/submit?";a+="url="+encodeURIComponent(d.options.url),a+="&title="+encodeURIComponent(d.options.title),d.popup(a)},delicious:function(){var a=d.options.protocol+"del.icio.us/post?";a+="url="+encodeURIComponent(d.options.url),a+="&title="+encodeURIComponent(d.options.title),a+="&notes="+encodeURIComponent(d.options.description),d.popup(a)},tapiture:function(){var a=d.options.protocol+"tapiture.com/bookmarklet/image?";a+="img_src="+encodeURIComponent(d.options.image),a+="&page_url="+encodeURIComponent(d.options.url),a+="&page_title="+encodeURIComponent(d.options.title),d.popup(a)},stumbleupon:function(){var a=d.options.protocol+"www.stumbleupon.com/submit?";a+="url="+encodeURIComponent(d.options.url),a+="&title="+encodeURIComponent(d.options.title),d.popup(a)},linkedin:function(){var a=d.options.protocol+"www.linkedin.com/shareArticle?mini=true";a+="&url="+encodeURIComponent(d.options.url),a+="&title="+encodeURIComponent(d.options.title),a+="&source="+encodeURIComponent(d.options.source),d.popup(a)},slashdot:function(){var a=d.options.protocol+"slashdot.org/bookmark.pl?";a+="url="+encodeURIComponent(d.options.url),a+="&title="+encodeURIComponent(d.options.title),d.popup(a)},technorati:function(){var a=d.options.protocol+"technorati.com/faves?";a+="add="+encodeURIComponent(d.options.url),a+="&title="+encodeURIComponent(d.options.title),d.popup(a)},posterous:function(){var a=d.options.protocol+"posterous.com/share?";a+="linkto="+encodeURIComponent(d.options.url),d.popup(a)},tumblr:function(){var a=d.options.protocol+"www.tumblr.com/share?v=3";a+="&u="+encodeURIComponent(d.options.url),a+="&t="+encodeURIComponent(d.options.title),d.popup(a)},googlebookmarks:function(){var a=d.options.protocol+"www.google.com/bookmarks/mark?op=edit";a+="&bkmk="+encodeURIComponent(d.options.url),a+="&title="+encodeURIComponent(d.options.title),a+="&annotation="+encodeURIComponent(d.options.description),d.popup(a)},newsvine:function(){var a=d.options.protocol+"www.newsvine.com/_tools/seed&save?";a+="u="+encodeURIComponent(d.options.url),a+="&h="+encodeURIComponent(d.options.title),d.popup(a)},pingfm:function(){var a=d.options.protocol+"ping.fm/ref/?";a+="link="+encodeURIComponent(d.options.url),a+="&title="+encodeURIComponent(d.options.title),a+="&body="+encodeURIComponent(d.options.description),d.popup(a)},evernote:function(){var a=d.options.protocol+"www.evernote.com/clip.action?";a+="url="+encodeURIComponent(d.options.url),a+="&title="+encodeURIComponent(d.options.title),d.popup(a)},friendfeed:function(){var a=d.options.protocol+"www.friendfeed.com/share?";a+="url="+encodeURIComponent(d.options.url),a+="&title="+encodeURIComponent(d.options.title),d.popup(a)},vkontakte:function(){var a=d.options.protocol+"vkontakte.ru/share.php?";a+="url="+encodeURIComponent(d.options.url),a+="&title="+encodeURIComponent(d.options.title),a+="&description="+encodeURIComponent(d.options.description),a+="&image="+encodeURIComponent(d.options.image),a+="&noparse=true",d.popup(a)},odnoklassniki:function(){var a=d.options.protocol+"www.odnoklassniki.ru/dk?st.cmd=addShare&st.s=1";a+="&st.comments="+encodeURIComponent(d.options.description),a+="&st._surl="+encodeURIComponent(d.options.url),d.popup(a)},mailru:function(){var a=d.options.protocol+"connect.mail.ru/share?";a+="url="+encodeURIComponent(d.options.url),a+="&title="+encodeURIComponent(d.options.title),a+="&description="+encodeURIComponent(d.options.description),a+="&imageurl="+encodeURIComponent(d.options.image),d.popup(a)}},d.popup=function(a){var b=500,c=400,d=void 0!=window.screenLeft?window.screenLeft:screen.left,e=void 0!=window.screenTop?window.screenTop:screen.top,f=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,g=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,h=f/2-b/2+d,i=g/2-c/2+e,j=window.open(a,"targetWindow","toolbar=no,location=no,status=no,menubar=no,scrollbars=yes,resizable=yes,width="+b+", height="+c+", top="+i+", left="+h);window.focus&&j.focus()},d.options={shareButtonClass:!1,iconStyle:"default",boxForm:"horizontal",position:"bottomCenter",buttonText:"Share",protocol:-1===["http","https"].indexOf(window.location.href.split(":")[0])?"https://":"//",url:window.location.href,title:d.getTitle(),image:d.getImage(),description:d.getDescription(),networks:"Mailto,Twitter,Pinterest,Facebook,GooglePlus,Reddit,Delicious,Tapiture,StumbleUpon,Linkedin,Slashdot,Technorati,Posterous,Tumblr,GoogleBookmarks,Newsvine,Pingfm,Evernote,Friendfeed,Vkontakte,Odnoklassniki,Mailru"};for(var e in b)d.options[e]=b[e];for(var f in d.elem.dataset)if(f.match(/share/)){var g=f.replace(/share/,"");if(!g.length)continue;g=g.charAt(0).toLowerCase()+g.slice(1),d.options[g]=d.elem.dataset[f]}if(d.options.networks=d.options.networks.toLowerCase().split(","),d.options.shareButtonClass)for(var e=0;e<d.elem.children.length;e++)d.elem.children[e].className.match(d.options.shareButtonClass)&&(d.button=d.elem.children[e]);d.button||(d.button=document.createElement("span"),d.button.innerText=d.options.buttonText,d.elem.appendChild(d.button)),d.button.className+=" need-share-button_button",d.button.addEventListener("click",function(a){a.preventDefault(),d.elem.className.match(/need-share-button-opened/)?d.elem.className=d.elem.className.replace(/\s*need-share-button-opened/g,""):d.elem.className+=" need-share-button-opened"}),d.dropdown=document.createElement("span"),d.dropdown.className="need-share-button_dropdown",d.elem.appendChild(d.dropdown),"box"==d.options.iconStyle&&"horizontal"==d.options.boxForm?d.dropdown.className+=" need-share-button_dropdown-box-horizontal":"box"==d.options.iconStyle&&"vertical"==d.options.boxForm&&(d.dropdown.className+=" need-share-button_dropdown-box-vertical"),setTimeout(function(){switch(d.options.position){case"topLeft":d.dropdown.className+=" need-share-button_dropdown-top-left";break;case"topRight":d.dropdown.className+=" need-share-button_dropdown-top-right";break;case"topCenter":d.dropdown.className+=" need-share-button_dropdown-top-center",d.dropdown.style.marginLeft=-d.dropdown.offsetWidth/2+"px";break;case"middleLeft":d.dropdown.className+=" need-share-button_dropdown-middle-left",d.dropdown.style.marginTop=-d.dropdown.offsetHeight/2+"px";break;case"middleRight":d.dropdown.className+=" need-share-button_dropdown-middle-right",d.dropdown.style.marginTop=-d.dropdown.offsetHeight/2+"px";break;case"bottomLeft":d.dropdown.className+=" need-share-button_dropdown-bottom-left";break;case"bottomRight":d.dropdown.className+=" need-share-button_dropdown-bottom-right";break;case"bottomCenter":d.dropdown.className+=" need-share-button_dropdown-bottom-center",d.dropdown.style.marginLeft=-d.dropdown.offsetWidth/2+"px";break;default:d.dropdown.className+=" need-share-button_dropdown-bottom-center",d.dropdown.style.marginLeft=-d.dropdown.offsetWidth/2+"px"}},1);var h="default"==d.options.iconStyle?"need-share-button_link need-share-button_":"need-share-button_link-"+d.options.iconStyle+" need-share-button_link need-share-button_";for(var i in d.options.networks){var j=document.createElement("span");i=d.options.networks[i],j.className=h+i,j.dataset.network=i,d.dropdown.appendChild(j),j.addEventListener("click",function(){d.share[this.dataset.network]()})}document.addEventListener("click",function(a){c(a.target.parentNode,d.elem)||(d.elem.className=d.elem.className.replace(/\s*need-share-button-opened/g,""))})}}();