import s from"joomla.dialog";/**
 * @copyright  (C) 2023 Open Source Matters, Inc. <https://www.joomla.org>
 * @license    GNU General Public License version 2 or later; see LICENSE.txt
 */const i="[data-joomla-dialog]",n="joomlaDialog",r="joomlaDialogCache";document.addEventListener("click",l=>{const o=l.target.closest(i);if(!o)return;l.preventDefault();const t=!!o.dataset[r];if(t&&o.JoomlaDialogInstance){Joomla.Modal.setCurrent(o.JoomlaDialogInstance),o.JoomlaDialogInstance.show();return}const e=o.dataset[n]?JSON.parse(o.dataset[n]):{};o.nodeName==="A"&&(e.popupType||(e.popupType=o.hash?"inline":"iframe"),!e.src&&e.popupType==="iframe"?e.src=o.href:!e.src&&e.popupType==="inline"&&(e.src=o.hash)),delete e.popupTemplate;const a=new s(e);t&&(o.JoomlaDialogInstance=a),a.addEventListener("joomla-dialog:close",()=>{Joomla.Modal.setCurrent(null),t||a.destroy()}),Joomla.Modal.setCurrent(a),a.show()});
