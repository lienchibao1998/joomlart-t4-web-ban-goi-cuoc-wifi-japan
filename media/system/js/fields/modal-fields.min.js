/**
 * @copyright  (C) 2016 Open Source Matters, Inc. <https://www.joomla.org>
 * @license    GNU General Public License version 2 or later; see LICENSE.txt
 */(function(){"use strict";window.processModalParent=function(e,o,l,d,a,m,n){var t=document.getElementById(e+"_id")||document.getElementById(e+"_value"),u=document.getElementById(e+"_name")||document.getElementById(e);o=o||"",l=l||"",d=d||"",n=n||"",a=a||"",m=m||"";var r=t.value!==o;return o?(t.value=o,u.value=l,document.getElementById(e+"_select")&&document.getElementById(e+"_select").classList.add("hidden"),document.getElementById(e+"_new")&&document.getElementById(e+"_new").classList.add("hidden"),document.getElementById(e+"_edit")&&document.getElementById(e+"_edit").classList.remove("hidden"),document.getElementById(e+"_clear")&&document.getElementById(e+"_clear").classList.remove("hidden"),document.getElementById(e+"_propagate")&&document.getElementById(e+"_propagate").classList.remove("hidden")):(t.value="",u.value=t.getAttribute("data-text"),document.getElementById(e+"_select")&&document.getElementById(e+"_select").classList.remove("hidden"),document.getElementById(e+"_new")&&document.getElementById(e+"_new").classList.remove("hidden"),document.getElementById(e+"_edit")&&document.getElementById(e+"_edit").classList.add("hidden"),document.getElementById(e+"_clear")&&document.getElementById(e+"_clear").classList.add("hidden"),document.getElementById(e+"_propagate")&&document.getElementById(e+"_propagate").classList.add("hidden")),r&&t.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!0})),t.getAttribute("data-required")=="1"&&(document.formvalidator.validate(t),document.formvalidator.validate(u)),!1},window.processModalEdit=function(e,o,l,d,a,m,n,t){m=m||d.toLowerCase()+"-form",n=n||"jform_id",t=t||"jform_title";var u=e.parentNode.parentNode.parentNode.parentNode.id,r=a,s=document.getElementById(u).getElementsByTagName("iframe")[0];s.id="Frame_"+u;var c=s.contentDocument;return a==="cancel"?(s.contentWindow.Joomla.submitbutton(d.toLowerCase()+"."+a),Joomla.Modal.getCurrent().close()):(s.addEventListener("load",function(){c=this.contentDocument,c.getElementById(n)&&c.getElementById(n).value!="0"&&[].slice.call(c.querySelectorAll('joomla-alert[type="danger"]')).length==0&&(window.processModalParent(o,c.getElementById(n).value,c.getElementById(t).value),a==="save"&&window.processModalEdit(e,o,"edit",d,"cancel",m,n,t)),s.classList.remove("visually-hidden")}),c.formvalidator.isValid(c.getElementById(m))&&(a==="save"&&(r="apply",s.classList.add("visually-hidden")),s.contentWindow.Joomla.submitbutton(d.toLowerCase()+"."+r))),!1},window.processModalSelect=function(e,o,l,d,a,m,n,t){return window.processModalParent(o,l,d,a,n,t,m),Joomla.Modal.getCurrent()&&Joomla.Modal.getCurrent().close(),!1}})();
