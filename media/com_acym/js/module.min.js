if("function"!=typeof submitAcymForm){var acytask,acyformName,acysubmitting;function submitAcymForm(e,t,a){if(void 0!==acysubmitting&&void 0!==acysubmitting&&acysubmitting===t)return;acytask=e,acyformName=t,a=void 0===a?"acymSubmitSubForm":a;let l="acym-captcha";t&&(l=t+"-captcha");let c=document.querySelector("#"+l+'[class="acyg-recaptcha"][data-size="invisible"]');if(!c||"object"!=typeof grecaptcha)return window[a]();if("acym_ireCaptcha"===c.getAttribute("data-captchaname")){c.className="g-recaptcha";let e=document.querySelector("#"+l+'[class="g-recaptcha"][data-size="invisible"]');if(!e)return window[a]();let t=e.getAttribute("grcID");return t||(t=grecaptcha.render(l,{sitekey:e.getAttribute("data-sitekey"),callback:a,size:"invisible","expired-callback":"resetRecaptcha"}),e.setAttribute("grcID",t)),grecaptcha.getResponse(t)?window[a]():(grecaptcha.execute(t),!1)}{let e=document.getElementById(l);if(!e)return window[a]();grecaptcha.ready(function(){grecaptcha.execute(e.getAttribute("data-sitekey"),{action:"submit"}).then(function(e){var l=document.createElement("input");return l.setAttribute("type","hidden"),l.setAttribute("name","g-recaptcha-response"),l.setAttribute("value",e),document.getElementById(t).appendChild(l),window[a]()})})}}function resetRecaptcha(){let e="acym-captcha";acyformName&&(e=acyformName+"-captcha");let t=document.querySelector("#"+e+'[class="g-recaptcha"][data-size="invisible"]');if(!t)return;let a=t.getAttribute("grcID");grecaptcha.reset(a)}function acym_resetInvalidClass(){let e=document.querySelectorAll("#"+acyformName+" .acym_invalid_field");if(0!==e.length)for(let t=0;t<e.length;t++)e[t].classList.remove("acym_invalid_field");let t=document.querySelectorAll("#"+acyformName+" .acym__field__error__block");if(0!==t.length)for(let e=0;e<t.length;e++)t[e].classList.remove("acym__field__error__block__active");let a=document.querySelectorAll("#"+acyformName+" .acym__message__invalid__field");if(0!==a.length)for(let e=0;e<a.length;e++)a[e].classList.remove("acym__message__invalid__field__active");let l=document.querySelectorAll("#"+acyformName+" .acym__cross__invalid");if(0!==l.length)for(let e=0;e<l.length;e++)l[e].classList.remove("acym__cross__invalid__active")}function acym_checkEmailField(e,t,a){let l=e.elements[t];if(l){l.value!==acymModule.EMAILCAPTION&&(l.value=l.value.replace(/ /g,""));let e=acymModule.emailRegex;l.value!==acymModule.EMAILCAPTION&&e.test(l.value)||acymAddInvalidClass(l.name,a,acymModule.VALID_EMAIL)}}function acym_checkEmailConfirmationField(e,t,a){let l=e.elements["user[email]"],c=e.elements[t];c&&(l.value===c.value&&""!==c.value||acymAddInvalidClass(t,a,acymModule.VALID_EMAIL_CONFIRMATION))}function acym_handleRequiredRadio(e){let t=document.querySelectorAll("#"+acyformName+' [type="radio"][data-required]');if(0===t.length)return;let a,l="",c=0;for(let r=0;r<t.length;r++){if(a=JSON.parse(t[r].getAttribute("data-required")),""!==l&&l!==t[r].getAttribute("name"))if(0===c){acymAddInvalidClass(l,e,JSON.parse(t[r-1].getAttribute("data-required")).message)}else c=0;t[r].checked&&c++,l=t[r].getAttribute("name")}0===c&&acymAddInvalidClass(l,e,a.message)}function acym_handleRequiredCheckbox(e){let t=document.querySelectorAll("#"+acyformName+' [type="checkbox"][data-required]');if(0===t.length)return;let a,l="",c=0;for(let r=0;r<t.length;r++){a=JSON.parse(t[r].getAttribute("data-required"));let i=t[r].getAttribute("name").slice(0,t[r].getAttribute("name").lastIndexOf("["));if(""!==l&&l!==i)if(0===c){acymAddInvalidClass(l,e,JSON.parse(t[r-1].getAttribute("data-required")).message)}else c=0;t[r].checked&&c++,l=i}0===c&&acymAddInvalidClass(l,e,a.message)}function acym_handleRequiredDate(e){let t=document.querySelectorAll("#"+acyformName+' [acym-field-type="date"][data-required]');if(0===t.length)return;let a="",l=0;for(let c=0;c<t.length;c++){let r=t[c],i=JSON.parse(r.getAttribute("data-required")),s=r.getAttribute("name").slice(0,r.getAttribute("name").lastIndexOf("["));if(""!==a&&a!==s)if(l<3){l=0;let a=JSON.parse(t[c-1].getAttribute("data-required"));acymAddInvalidClass(t[c-1].name,e,a.message)}else l>0&&(l=0);r.value.length>0?l++:acymAddInvalidClass(r.name,e,i.message),a=t[c].getAttribute("name").slice(0,t[c].getAttribute("name").lastIndexOf("["))}}function acym_handleOtherRequiredFields(e){let t=document.querySelectorAll("#"+acyformName+' [data-required]:not([type="checkbox"]):not([type="radio"]):not([acym-field-type="date"])');if(0!==t.length)for(let a=0;a<t.length;a++){let l=JSON.parse(t[a].getAttribute("data-required"));-1===["text","textarea","single_dropdown","multiple_dropdown","phone"].indexOf(l.type)||""!==t[a].value&&"0"!=t[a].value||acymAddInvalidClass(t[a].name,e,l.message),"file"===l.type&&0===t[a].files.length&&acymAddInvalidClass(t[a].name,e,l.message)}}function acym_handleAuthorizedContent(e){let t=document.querySelectorAll("#"+acyformName+" [data-authorized-content]");if(0!==t.length)for(let a=0;a<t.length;a++){let l,c=t[a].getAttribute("data-authorized-content"),r=[];r.push(0);try{let e=c.indexOf("{"),t=c.indexOf("[");!isNaN(e)&&e>0&&!isNaN(t)&&t>0&&(c=c.substring(e)),l=void 0!==c||""!==c?JSON.parse(c):r}catch(e){l=r,console.log(e.stack)}let i="";"number"===l[0]?i=/^[0-9]+$/:"letters"===l[0]?i=/^[a-zA-Z]+$/:"numbers_letters"===l[0]?i=/^[a-zA-Z0-9]+$/:"regex"===l[0]&&(i=new RegExp(l.regex)),""!==i&&t[a].value.length>0&&!i.test(t[a].value)&&acymAddInvalidClass(t[a].name,e,l.message)}}function acymSubmitSubForm(){let e=document[acyformName],t={errors:0},a=acymModule.emailRegex;if(e.elements||(e=e[0].elements["user[email]"]&&e[0].elements["user[email]"].value&&a.test(e[0].elements["user[email]"].value)?e[0]:e[e.length-1]),acym_resetInvalidClass(),acym_checkEmailField(e,"user[email]",t),acym_checkEmailConfirmationField(e,"user[email_confirmation]",t),acym_handleRequiredRadio(t),acym_handleRequiredCheckbox(t),acym_handleRequiredDate(t),acym_handleOtherRequiredFields(t),acym_handleAuthorizedContent(t),t.errors>0)return!1;if(e.elements.hiddenlists.value.length<1){let t=!1,a=e.elements["subscription[]"];if(a&&(void 0===a.value||0===a.value.length)){for(let e=0;e<a.length;e++)a[e].checked&&(t=!0);if(!t)return"unsubscribe"!==acytask?alert(acymModule.NO_LIST_SELECTED):alert(acymModule.NO_LIST_SELECTED_UNSUB),!1}}if("unsubscribe"!==acytask){let t=e.elements.terms;if(t&&!t.checked)return"undefined"!=typeof acymModule&&alert(acymModule.ACCEPT_TERMS),!1;if("undefined"!=typeof acymModule&&void 0!==acymModule["excludeValues"+acyformName])for(let t in acymModule["excludeValues"+acyformName])acymModule["excludeValues"+acyformName].hasOwnProperty(t)&&e.elements["user["+t+"]"]&&e.elements["user["+t+"]"].value==acymModule["excludeValues"+acyformName][t]&&(e.elements["user["+t+"]"].value="")}if("undefined"!=typeof ga){ga("send","pageview","unsubscribe"===acytask?"unsubscribe":"subscribe")}e.task.value=acytask;let l="";null!=e.elements.acymformtype&&(l=e.elements.acymformtype.value);let c="";if(null!=e.elements.redirect&&(c=e.elements.redirect.value),"shortcode"==l||!e.elements.ajax||!e.elements.ajax.value||"0"===e.elements.ajax.value||0===e.elements.ajax.value)return"shortcode"==l&&""==c&&(e.elements.redirect.value=window.location.href),acymApplyCookie(acyformName),e.submit(),!1;let r=document.getElementById(acyformName),i=new FormData(r);r.className+=" acym_module_loading",r.style.filter="alpha(opacity=50)",r.style.opacity="0.5",acysubmitting=acyformName;let s=document.querySelectorAll(".responseContainer.acym_module_error.message_"+acyformName);Array.prototype.forEach.call(s,function(e){e.parentNode.removeChild(e)});let n=new XMLHttpRequest;return n.open("POST",r.getAttribute("action")),n.onload=function(){let e="Ajax Request Failure",t="error";if(acysubmitting===acyformName&&(acysubmitting=""),200===n.status)try{let a=JSON.parse(n.responseText);e=a.message,t=a.type}catch{e=n.responseText}acymDisplayAjaxResponse(e,t,acyformName)},n.send(i),!1}function acymAddInvalidClass(e,t,a){let l=document.querySelectorAll("#"+acyformName+' [name^="'+e+'"]'),c=l[0].closest(".onefield");for(let e=0;e<l.length;e++)l[e].classList.add("acym_invalid_field");if(c&&0!==c.length){let e=c.querySelector(".acym__message__invalid__field"),t=c.querySelector(".acym__cross__invalid");if(e&&e.classList.add("acym__message__invalid__field__active"),t&&t.classList.add("acym__cross__invalid__active"),a.length>0){let e=c.querySelector(".acym__field__error__block");e.innerText=a,e.classList.add("acym__field__error__block__active")}}return t.errors++,!0}function acymDisplayAjaxResponse(e,t,a,l){let c=document.createElement("div"),r=document.getElementById("acym_fulldiv_"+a);r.firstChild&&!r.classList.contains("acym__subscription__form__popup__overlay")?r.insertBefore(c,r.firstChild):r.classList.contains("acym__subscription__form__popup__overlay")?r.querySelector(".acym__subscription__form__popup").appendChild(c):r.appendChild(c),c.className="responseContainer";let i=document.getElementById(a),s=document[a],n="replace";null!=s.elements.successmode&&(n=s.elements.successmode.value);let m=i.className,o="acym_module_loading",d=m.replace(" "+o,"",m);d==m&&(d=m.replace(o+" ","",m)),d==m&&(d=m.replace(o,"",m)),i.className=d,c.innerHTML=e,"success"===t?c.className+=" acym_module_success":(c.className+=" acym_module_error",i.style.opacity="1"),(l||"success"===t&&"toptemp"!==n)&&(i.style.display="none"),c.className+=" message_"+a,c.className+=" slide_open","success"!==t||"replacetemp"!==n&&"toptemp"!==n||setTimeout(()=>{c.remove(),i.style.filter="alpha(opacity=100)",i.style.opacity="1","replacetemp"===n&&(i.style.display="")},3e3),"success"===t&&acymApplyCookie(a)}function acymApplyCookie(e){let t=document.getElementById("acym_fulldiv_"+e);if(t.classList.contains("acym__subscription__form-erase")){let a=document.getElementById(e),l=a.getAttribute("acym-data-cookie");void 0===l&&(l=1);let c=new Date;c.setDate(c.getDate()+parseInt(l)),document.cookie="acym_form_"+a.getAttribute("acym-data-id")+"="+Date.now()+";expires="+c.toUTCString()+";path=/",setTimeout(()=>{t.remove()},2e3)}}function blockPasteEvent(){document.querySelectorAll('input[name="user[email_confirmation]"]').forEach(e=>{e.addEventListener("paste",e=>{e.preventDefault()})})}blockPasteEvent()}