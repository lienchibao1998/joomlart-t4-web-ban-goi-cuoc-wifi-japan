jQuery(function(e){void 0!==e.fn.select2&&Vue.component("multi-language",{name:"multi-language",props:{value:Object,place:String,currentlangue:String,languageforselect2:Object},mounted:function(){this.languageforselect2decode=JSON.parse(this.languageforselect2),this.testLangue=this.currentlangue},data:()=>({testLangue:"",languageforselect2decode:{}}),template:'<div class="cell auto" v-if="testLangue!=\'\'">\n                       <select2 class="margin-bottom-1" :name="value" v-model="testLangue" :options="languageforselect2decode"></select2>\n                       <input @change="saveData" :placeholder="place" v-show="testLangue == index" v-for="(language, index) in languageforselect2decode" key="index" v-model="value[index]" :class="index" type="text">\n                   </div>',methods:{saveData(){this.$emit("input",this.value)}}})}),jQuery(function(e){Vue.component("acym-media",{name:"acym-media",template:'<div class="cell shrink grid-x acym_vcenter"><div v-html="joomlaIframe"></div><button type="button" class="cell shrink button-secondary button margin-bottom-0 margin-right-1" @click="openMedia">{{ text }}</button><i @click="removeImage" class="cell shrink cursor-pointer acymicon-trash-o acym__color__red" v-if="value !== \'\'"></i></div>',props:{value:String,text:String},mounted:function(){this.initJoomlaModal()},data:()=>{if("wordpress"===ACYM_CMS)return{joomlaIframe:""};const e=`acym__form__modal__joomla-image__container-${Math.floor(1e3*Math.random())}`,t=`acym__form__modal__joomla-image__ui__iframe-${Math.floor(1e3*Math.random())}`;let n=`<div id="${e}">`;n+='<div id="acym__form__modal__joomla-image__bg" class="acym__form__modal__joomla-image--close"></div>',n+='<div id="acym__form__modal__joomla-image__ui" class="float-center cell">';let o="index.php?option=com_media&amp;asset=com_content&amp;author=acymailing&amp;tmpl=component";return ACYM_J40||(o+="&amp;view=images"),n+=`<iframe id="${t}" src="${o}" frameborder="0"></iframe>`,ACYM_J40&&(n+='<div class="cell grid-x align-right grid-margin-x">',n+='<button type="button" class="button button-secondary cell shrink margin-bottom-0 acym__form__modal__joomla-image__ui__iframe__actions__select">',n+=ACYM_JS_TXT.ACYM_SELECT,n+="</button>",n+='<button type="button" class="button button-secondary cell shrink margin-bottom-0 acym__form__modal__joomla-image__ui__iframe__actions__cancel">',n+=ACYM_JS_TXT.ACYM_CANCEL,n+="</button>",n+="</div>"),{joomlaIframe:n+="</div></div>",modalId:e,iframeId:t}},methods:{openMedia(){"wordpress"===ACYM_CMS?this.openMediaWordpress():this.openMediaJoomla()},openMediaWordpress(){let e;(e=wp.media.frames.file_frame=wp.media({title:ACYM_JS_TXT.ACYM_SELECT_IMAGE_TO_UPLOAD,button:{text:ACYM_JS_TXT.ACYM_USE_THIS_IMAGE},multiple:!1})).on("select",()=>{let t=e.state().get("selection").first().toJSON();this.$emit("change",t.url)}),e.open()},openMediaJoomla(){jQuery(`#${this.modalId}`).css("display","inherit")},initJoomlaModal(){let e=this,t=jQuery(`#${this.iframeId}`),n="100%";ACYM_J40&&(n="calc(100% - 50px)"),t.css("height",n).css("width","100%"),t.contents().find(".chzn-container-single").attr("style","").css("width","150px"),t.on("load",function(){jQuery(".acym__form__modal__joomla-image--close").on("click",function(){jQuery(`#${e.modalId}`).hide()}),t.contents().find(".button-cancel").attr("onclick","").off("click").on("click",function(){jQuery(`#${e.modalId}`).hide()}),t.contents().find(".pull-right .btn-success, .pull-right .btn-primary").attr("onclick","").off("click").on("click",function(){let n=t.contents().find("#f_url").val();n.match("^"+ACYM_JOOMLA_MEDIA_FOLDER)&&(n=ACYM_JOOMLA_MEDIA_IMAGE+n),e.$emit("change",n),jQuery(`#${e.modalId}`).hide()})}),jQuery(".acym__form__modal__joomla-image__ui__iframe__actions__cancel").off("click").on("click",function(){jQuery(`#${e.modalId}`).hide()}),jQuery(".acym__form__modal__joomla-image__ui__iframe__actions__select").on("click",function(){let n=ACYM_ROOT_URI;t.contents().find(".media-breadcrumb-item a").each(function(){n+=jQuery(this).text().trim()+"/"});let o=[];t.contents().find(".media-browser-grid .media-browser-item.selected .media-browser-image .media-browser-item-info").each(function(){o.push(n+jQuery(this).text().trim())}),0===o.length&&t.contents().find(".media-browser .media-browser-item.selected").each(function(){acym_helper.empty(jQuery(this).find(".size").text().trim())||o.push(n+jQuery(this).find(".name").text().trim())});let i="";0!==o.length&&(i=o[0]),i.match("^"+ACYM_JOOMLA_MEDIA_FOLDER)&&(i=ACYM_JOOMLA_MEDIA_IMAGE+i),e.$emit("change",i),jQuery(`#${e.modalId}`).hide()})},removeImage(){this.$emit("change","")}}})}),jQuery(function(e){void 0!==e.fn.select2&&(e.fn.select2.defaults.set("theme","foundation"),Vue.component("select2multiple",{name:"select2multiple",template:'<div class="cell">\n                    <select multiple :name="name">\n                        <option v-if="allOptionExist" :value="\'all\'">{{ options.all }}</option>\n                        <option v-if="allOptionExist" disabled>-----------------------------</option>\n                        <option v-for="(option, key) in options" :value="key" v-if="key !== \'all\'">{{ option }}</option>\n                    </select>\n                   </div>',props:{options:Object,value:Array,name:String},data:()=>({oldSelected:[],allOptionExist:!1}),mounted:function(){let t=this;this.oldSelected=this.value,this.allOptionExist=-1!==Object.keys(this.options).indexOf("all"),setTimeout(()=>{e('[name="'+this.name+'"]').select2({theme:"foundation",width:"100%"}).val(this.value).trigger("change").on("change",function(){let n=t.oldSelected;null===n&&(n=[]);let o=e(this).val();if(null===o&&(o=[]),Object.keys(t.options).filter(e=>"all"===e).length>0&&!acym_helper.empty(o)&&-1!==o.indexOf("all"))if(-1===n.indexOf("all"))e(this).val(["all"]);else{let t=o.filter(e=>"all"!==e);e(this).val(null===t?[]:t)}let i=e(this).val();null===i&&(i=[]),t.oldSelected=i,t.$emit("input",i)})},100)},watch:{options:function(t){e('[name="'+this.name+'"]').select2({data:t})}},destroyed:function(){e('[name="'+this.name+'"]').off().select2("destroy")}}),Vue.component("select2",{name:"select2",template:'<div class="cell"><select :name="name"><option v-for="(option, key) in options" :value="key">{{ option }}</option></select></div>',props:["options","value","name"],mounted:function(){let t=this;e('[name="'+this.name+'"]').select2({theme:"foundation",width:"100%"}).val(this.value).trigger("change").on("change",function(){t.$emit("input",this.value)})},watch:{options:function(t){e('[name="'+this.name+'"]').select2({data:t})}},destroyed:function(){e('[name="'+this.name+'"]').off().select2("destroy")}}),Vue.component("select2ajax",{name:"select2ajax",template:'<div class="cell"><select :name="name"><option v-for="(option, key) in options" :value="option.id">{{ option.text }}</option></select></div>',props:["value","name","urlselected","ctrl","task"],data:()=>({options:[]}),mounted:function(){let t=this;e.get(ACYM_AJAX_URL+t.urlselected+this.value,n=>{n=acym_helper.parseJson(n);let o=e('[name="'+this.name+'"]');if(!acym_helper.empty(n)){let e=new Option(n.title,n.id,!1,!1);o.append(e)}o.select2({ajax:{url:ACYM_AJAX_URL,dataType:"json",delay:250,data:function(e){return{searchedterm:e.term,ctrl:t.ctrl,task:t.task}},processResults:function(e){return t.options=[],e&&jQuery.each(e,function(e,n){t.options.push({id:n[0],text:n[1]})}),{results:t.options}}},theme:"foundation",width:"100%",minimumInputLength:3,allowClear:!0,placeholder:"- - -"}).val(this.value).on("change",function(){t.$emit("input",this.value)})})},destroyed:function(){e('[name="'+this.name+'"]').off().select2("destroy")}}))}),jQuery(function(e){void 0!==e.fn.select2&&Vue.component("spectrum",{name:"spectrum",template:'<div class="cell auto grid-x"><input @click="openSpectrum" type="text" class="cell medium-6 acym__forms__menu__options__input-color-disabled" readonly :value="value"><input type="text" :name="name"></div>',props:{value:String,name:String},mounted:function(){let t=this;e('[name="'+this.name+'"]').spectrum({color:this.value,preferredFormat:"hex",showButtons:!1,showInput:!0,change:function(e){t.$emit("input",e.toHexString())}})},methods:{openSpectrum(){e('[name="'+this.name+'"]').next().trigger("click")}},destroyed:function(){e('[name="'+this.name+'"]').spectrum("destroy")}})});